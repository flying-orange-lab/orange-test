import { Injectable } from '@angular/core';
import { BehaviorSubject } from 'rxjs';

@Injectable({
  providedIn: 'root',
})
export class PokemonAlterService {
  private gender_set = new Set([
    '002',
    '003',
    '006',
    '018',
    '020',
    '023',
    '024',
    '026',
    '028',
    '030',
    '031',
    '033',
    '034',
    '037',
    '038',
    '039',
    '040',
    '042',
    '044',
    '045',
    '058',
    '062',
    '065',
    '073',
    '078',
    '079',
    '082',
    '086',
    '088',
    '097',
    '100',
    '102',
    '103',
    '104',
    '105',
    '107',
    '109',
    '111',
    '112',
    '115',
    '116',
    '117',
    '120',
    '121',
    '123',
    '130',
    '131',
    '133',
    '134',
    '135',
    '136',
    '142',
    '143',
    '147',
    '148',
    '149',
    '152',
    '153',
    '154',
    '155',
    '156',
    '157',
    '158',
    '159',
    '160',
    '163',
    '164',
    '165',
    '166',
    '169',
    '170',
    '171',
    '172',
    '175',
    '176',
    '177',
    '178',
    '179',
    '180',
    '181',
    '182',
    '183',
    '184',
    '186',
    '187',
    '188',
    '189',
    '192',
    '194',
    '196',
    '197',
    '198',
    '200',
    '202',
    '205',
    '206',
    '207',
    '208',
    '209',
    '210',
    '215',
    '218',
    '225',
    '228',
    '229',
    '230',
    '234',
    '235',
    '236',
    '237',
    '248',
    '252',
    '253',
    '254',
    '265',
    '266',
    '269',
    '270',
    '271',
    '272',
    '273',
    '274',
    '275',
    '276',
    '277',
    '278',
    '279',
    '282',
    '283',
    '284',
    '285',
    '286',
    '290',
    '291',
    '292',
    '293',
    '294',
    '295',
    '303',
    '304',
    '305',
    '306',
    '313',
    '314',
    '319',
    '322',
    '323',
    '325',
    '326',
    '327',
    '328',
    '329',
    '330',
    '333',
    '334',
    '337',
    '338',
    '339',
    '340',
    '343',
    '344',
    '348',
    '349',
    '350',
    '354',
    '355',
    '356',
    '359',
    '362',
    '363',
    '364',
    '365',
    '369',
    '370',
    '373',
    '374',
    '375',
    '376',
    '377',
    '378',
    '379',
    '382',
    '383',
    '388',
    '389',
    '396',
    '397',
    '398',
    '402',
    '411',
    '413',
    '414',
    '418',
    '419',
    '422',
    '423',
    '424',
    '425',
    '426',
    '428',
    '429',
    '430',
    '439',
    '441',
    '442',
    '443',
    '444',
    '445',
    '448',
    '451',
    '452',
    '456',
    '457',
    '459',
    '460',
    '462',
    '463',
    '464',
    '465',
    '466',
    '467',
    '468',
    '469',
    '470',
    '471',
    '472',
    '475',
    '477',
    '478',
    '486',
    '500',
    '512',
    '513',
    '514',
    '515',
    '516',
    '518',
    '519',
    '520',
    '521',
    '522',
    '523',
    '524',
    '525',
    '526',
    '528',
    '531',
    '535',
    '536',
    '537',
    '538',
    '539',
    '543',
    '544',
    '545',
    '546',
    '547',
    '549',
    '550',
    '552',
    '553',
    '554',
    '558',
    '562',
    '566',
    '567',
    '568',
    '580',
    '582',
    '583',
    '584',
    '588',
    '589',
    '592',
    '593',
    '596',
    '597',
    '598',
    '602',
    '603',
    '604',
    '605',
    '606',
    '609',
    '613',
    '614',
    '615',
    '616',
    '617',
    '620',
    '625',
    '632',
    '634',
    '635',
    '636',
    '637',
    '638',
    '639',
    '640',
    '413-1',
    '413-2',
    '422-1',
    '423-1',
    '550-1',
  ]);
  private useAlterSource = new BehaviorSubject<boolean>(false);
  useAlter$ = this.useAlterSource.asObservable();

  setUseAlter(value: boolean) {
    this.useAlterSource.next(value);
  }

  get useAlter(): boolean {
    return this.useAlterSource.getValue();
  }
  hasGender(keyname: string) {
    const result = keyname.replace(/^(front-|back-)/, '');
    return this.gender_set.has(result);
  }
}
